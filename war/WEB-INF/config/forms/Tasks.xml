<?xml version="1.0" encoding="UTF-8"?>
<BeeForm
  xmlns="http://www.butent.com/bee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.butent.com/bee ../../schemas/form.xsd"
  
  name="Tasks" viewName="Tasks" caption="Užduotys">

  <LayoutPanel>
    <layer height="50" heightUnit="%">
      <ScrollPanel>
        <FlexTable cellSpacing="10">
          <row>
            <cell><Label html="ID" /></cell>
            <cell>
              <LongLabel horizontalAlignment="left">
                <calc>
                  <expression>rowId</expression>
                </calc>
              </LongLabel>
            </cell>
            <cell><Label html="Prioritetas" horizontalAlignment="right" /></cell>
            <cell horizontalAlignment="center"><Radio source="Priority" name="Priority" /></cell>
          </row>
          <row>
            <cell><Label html="Pradžios data" /></cell>
            <cell><InputDateTime source="StartTime" /></cell>
            <cell><Label html="Įmonė" horizontalAlignment="right" /></cell>
            <cell>
              <DataSelector source="CompanyName" relSource="Company" relView="Companies" relColumn="Name" />
            </cell>
          </row>
          <row>
            <cell><Label html="Pabaigos data" /></cell>
            <cell><InputDateTime source="FinishTime" /></cell>
            <cell><Label html="Asmuo" horizontalAlignment="right" /></cell>
            <cell>
              <DataSelector source="PersonFirstName" relSource="CompanyPerson" relView="CompanyPersons" relColumn="FirstName" />
            </cell>
          </row>
          <row>
            <cell><Label html="Užduotis" /></cell>
            <cell colSpan="3">
              <InputArea source="Task" style="width: 100%; height: 60px;" />
            </cell>
          </row>
          <row>
            <cell><Label html="Vykdytojas" /></cell>
            <cell>
              <DataSelector source="ExecutorFirstName" relSource="Executor" relView="Users" relColumn="FirstName" />
            </cell>
            <cell><Label html="Autorius" horizontalAlignment="right" /></cell>
            <cell>
              <TextLabel>
                <calc>
                  <function>return (row.OwnerFirstName || "") + " " + (row.OwnerLastName || "")</function>
                </calc>
              </TextLabel>
            </cell>
          </row>
        </FlexTable>
      </ScrollPanel>
    </layer>

    <layer top="51" topUnit="%">
      <FlexTable>
        <row>
          <cell><Button name="Comment" html="Komentaras" /></cell>
          <cell><Button name="Term" html="Keisti terminą" /></cell>
        </row>
        <row>
          <cell colSpan="2">
            <Grid name="TaskEvents" relColumn="Task"/>
          </cell>
        </row>
      </FlexTable>
    </layer>
  </LayoutPanel>
</BeeForm>  
