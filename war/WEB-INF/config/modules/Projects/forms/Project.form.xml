<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form[
  <!ENTITY inline "display: inline-block;">
  <!ENTITY height "height: 25px">
  <!ENTITY lbl "margin-left: 1em; margin-right: 1em; text-align: right">
  <!ENTITY lbl2 "margin-left: 1em; margin-right: 1em; text-align: left">
  <!ENTITY lbl3 "margin-left: 4em; margin-right: 1em; text-align: right">
  <!ENTITY lbl4 "margin-left: 8em; margin-right: 1em; text-align: left">
  <!ENTITY inp1 "&inline; width: 350px; &height;"> 
  <!ENTITY inp2 "&inline; width: 200px; &height;">
  <!ENTITY inp3 "&inline; width: 150px; &height;">
  <!ENTITY inp4 "&inline; width: 100px; &height;">
  <!ENTITY inp5 "&inline; width: 70px; &height;">
  <!ENTITY inp6 "&inline; width: 110px; &height;">
  <!ENTITY inp7 "&inline; width: 780px; height:100px;">
]>

<f:Form xmlns="http://www.butent.com/widget" xmlns:f="http://www.butent.com/form"
	xmlns:xi="http://www.w3.org/2001/XInclude" name="Project" viewName="Projects"
	caption="=project">
	<FlowPanel class="flexBox-vertical">
		<Table>
			<row>
				<Label text="=name" style="&lbl;" class="bee-required" />
				<InputText source="Name" style="&inp1;" />

				<Label text="=crmStartDate" style="&lbl;" />
				<InputDate source="StartDate" style="&inp4;" />

				<Label text="=prjTerm" style="&lbl3;" />
				<InputDate source="EndDate" style="&inp4;" />
			</row>

			<row>
				<Label text="=client" style="&lbl;" />
				<DataSelector source="Company" style="&inp2;" />

				<Label text="=personContact"
					style="margin-right: 1em; text-align: left; margin-left: -110px;" />
				<DataSelector source="ContactPerson"
					style="display: inline-block; width: 200px; margin-left: -100px; height: 25px;"
					renderColumns="ContactFirstName ContactLastName" choiceColumns="FirstName LastName CompanyName"
					options="Company" module="Classifiers.Contacts" />

				<Label text="=status" style="&lbl2;" />
				<ListBox source="Status"
					style="display: inline-block; width: 150px; margin-left: -50px; height: 25px;" />
			</row>
		</Table>

		<Disclosure open="true">
			<Label text="=relatedInformation" style="text-transform: uppercase; " />
			<Table>
				<Table>
					<row>
						<Label text="=prjManager" style="&lbl;" class="bee-required" />
						<DataSelector source="Owner" style="&inp2;" />

						<Label text="=priority" style="&lbl4;" />
						<Radio source="Priority" style="width: 201px" />
					</row>

					<row>
						<Label text="=category" style="&lbl;" class="bee-required" />
						<DataSelector source="Category" style="&inp2;" />

						<Label text="=type" style="&lbl4;" />
						<DataSelector source="Type" style="&inp2;" />
					</row>
				</Table>

				<Table>
					<row>
						<Label text="=progress" style="&lbl;" />
						<InputText source="Progress" style="&inp5;" />

						<Label text="=expectedDuration" style="&lbl;" />
						<InputText source="ExpectedDuration" style="&inp5;" />

						<Label text="=contractNo" style="&lbl;" />
						<InputText source="ContractNumber" style="&inp6;"
							readOnly="true" />
					</row>

					<row>
						<Label text="=prjExpectedTaskDuration" style="&lbl;" />
						<InputText source="ExpectedTasksDuration" style="&inp5;" />

						<Label text="=prjActualTaskDuration" style="&lbl;" />
						<InputText source="ActualTasksDuration" style="&inp5;" />

						<Label text="=prjPrice" style="&lbl;" />
						<InputText source="Price" style="&inp6;" />

						<Label text="=salePrice" style="&lbl;" />
						<InputText source="ContractPrice" style="&inp6;" />
					</row>
				</Table>

				<Table>
					<row>
						<Label text="=description" style="&lbl;" />
						<InputArea source="Description" style="&inp7;" />
					</row>
				</Table>

			</Table>
		</Disclosure>

		<TabbedPages class="flexible">
			<page>
				<text>=prjParticipants</text>
				<ChildGrid name="ProjectUsers" relColumn="Project" />
			</page>
			<page>
				<text>=prjStages</text>
				<ChildGrid name="ProjectStages" relColumn="Project" />
			</page>
			<page module="Documents">
				<text>=documents</text>
				<FlowPanel>
					<Table>
						<row>
							<Label text="=personContact" style="margin-right: 1em; text-align: left;" />
							<DataSelector source="ContactPerson"
								style="display: inline-block; width: 200px; height: 25px;"
								renderColumns="ContactFirstName ContactLastName" choiceColumns="FirstName LastName CompanyName"
								options="Company" module="Classifiers.Contacts" />

							<Label text="=signDate" style="&lbl;" />
							<InputDate source="ContractSigned" style="&inp4;" />

							<Label text="=prjTerm" style="&lbl;" />
							<InputDate source="EndDate" style="&inp4;" />
						</row>

						<row>
							<Label text="=contract" style="margin-right: 1em; text-align: left;" />
							<DataSelector source="Contract" renderColumns="ContractName ContractNumber" 
							 choiceColumns="Document Project" filter="Document AND Project"  options="Project" module="Documents"
							 style="&inp2;" />

							<Label text="=salePrice" style="&lbl;" />
							<InputText source="ContractPrice" style="&inp4;" />

							<Label text="=prjOtherExpenses" style="&lbl;" />
							<InputText style="&inp4;" />
						</row>
					</Table>
					<ChildGrid name="RelatedDocuments" relColumn="Project"
						class="flexible" />
				</FlowPanel>
			</page>
			<page module="Tasks">
				<text>=crmTasks</text>
				<ChildGrid name="ChildTasks" relColumn="Project" />
			</page>
		</TabbedPages>
	</FlowPanel>
</f:Form> 