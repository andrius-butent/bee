<?xml version="1.0" encoding="UTF-8"?>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  
  name="DocumentItem" caption="=documentItem"
  >
  <TabbedPages>
    <page>
      <text>=mainInformation</text>
      <Table>
        <row>
          <Label for="Ordinal" />
          <InputInteger source="Ordinal" />
        </row>
        <row>
          <Label for="Description" />
          <DataSelector source="Description"  viewName="DistinctDocumentItems"
            valueSource="Description" strict="false"/>
        </row>
        <row>
          <Label for="Quantity" />
          <InputDecimal source="Quantity" />
        </row>
        <row>
          <Label for="Price" />
          <InputDecimal source="Price" />
        </row>
        <row>
          <Label for="VatPlus" />
          <CheckBox source="VatPlus" html="-" />
        </row>
        <row>
          <Label for="Vat" />
          <ListBox source="Vat" valueNumeric="false">
            <handler event="change">
              var v = parseFloat(target.value);
              if (v > 0) {
                v = "1";
              } else {
                v = null;
              }
              $wnd.Bee_updateForm(target.id, "VatPercent", v);
            </handler>

            <item>0</item>
            <item>5</item>
            <item>21</item>
          </ListBox>
        </row>
        <row>
          <Label for="VatPercent" />
          <CheckBox source="VatPercent" html="-" />
        </row>
      </Table>
    </page>
    <page>
      <text>=criteria</text>
      <xi:include href="widgets/Criteria.widget.xml" />
    </page>
    <page>
      <text>=content</text>
      <xi:include href="widgets/Content.widget.xml" />
    </page>
  </TabbedPages>
</f:Form>  
