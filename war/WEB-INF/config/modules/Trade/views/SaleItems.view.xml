<?xml version="1.0" encoding="UTF-8"?>
<View xmlns="http://www.butent.com/view"
      xmlns:x="http://www.butent.com/expression"

      name="SaleItems" source="SaleItems" caption="=trdSaleItems"
    >
  <Columns>
    <SimpleColumn name="Sale" />
    <SimpleColumn name="Item" />
    <SimpleJoin joinType="INNER" name="Item">
      <SimpleColumn name="Name" alias="ItemName" />

      <SimpleJoin joinType="INNER" name="Unit">
        <SimpleColumn name="Name" alias="UnitName" />
      </SimpleJoin>
    </SimpleJoin>
    <SimpleColumn name="Article" />
    <SimpleColumn name="Quantity" />
    <SimpleColumn name="Price" />
    <SimpleColumn name="VatPlus" />
    <SimpleColumn name="Vat" />
    <SimpleColumn name="VatPercent" />
    <SimpleColumn name="Discount" label="=discountPercent"/>
    <SimpleColumn name="PriceDiscount" label="=priceDiscount">
      <x:minus>
        <x:nvl type="DECIMAL">
          <x:number>"Price"</x:number>
          <x:number>0</x:number>
        </x:nvl>
        <x:divide>
          <x:multiply>
            <x:nvl type="DECIMAL">
              <x:number>"Price"</x:number>
              <x:number>0</x:number>
            </x:nvl>
            <x:nvl type="DECIMAL">
              <x:number>"Discount"</x:number>
              <x:number>0</x:number>
            </x:nvl>
          </x:multiply>
          <x:number>100</x:number>
        </x:divide>
      </x:minus>
    </SimpleColumn>
    <SimpleColumn name="Note" />
    <SimpleColumn name="Parent" />
    <SimpleColumn name="Ordinal" />
  </Columns>
  <Order>
    <OrderBy column="Ordinal" />
  </Order>
</View>
