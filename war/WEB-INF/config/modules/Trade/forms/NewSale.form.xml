<?xml version="1.0" encoding="UTF-8"?>
<f:Form xmlns="http://www.butent.com/widget"
        xmlns:f="http://www.butent.com/form"
        xmlns:ui="http://www.butent.com/ui"

        name="NewSale" caption="=trdNewInvoice"
        width="600" height="550"
    >
  <FlowPanel style="padding: 10px;">
    <Table kind="controls" style="border-top:1px solid blue;">
      <col index="0" kind="label" />
      <col index="2" kind="label" />
      <row>
        <cell colSpan="4">
          <CheckBox source="Proforma" text="=trdProformaInvoice" style="float:right;" />
        </cell>
      </row>
      <row>
        <Label for="Date" />
        <InputDateTime source="Date" style="width:10em;">
          <validation>
            <ui:function>
              if (cell.newValue &lt;= new Date()) {
              return null;
              }
              return $wnd.Bee_maybeTranslate("=invalidDate");
            </ui:function>
          </validation>
        </InputDateTime>
        <Label for="Number" />
        <InputText source="Number" />
      </row>
      <row>
        <Label for="Operation" class="bee-required" />
        <cell colSpan="2">
          <DataSelector source="Operation" viewName="SaleOperations" required="true"
                        editEnabled="false" newRowEnabled="false" style="width:100%;" />
        </cell>
      </row>
      <row>
        <Label for="SaleSeries" class="bee-required" />
        <DataSelector source="SaleSeries" editEnabled="false" newRowEnabled="false" required="true"
                      style="width:7em;" />
        <InlineLabel for="InvoiceNo" />
        <InputText source="InvoiceNo" />
      </row>
      <row>
        <Label for="Customer" class="bee-required" />
        <DataSelector source="Customer" required="true" />
        <Label for="Payer" />
        <DataSelector source="Payer" />
      </row>
      <row>
        <Label for="WarehouseFrom" />
        <DataSelector source="WarehouseFrom" newRowEnabled="false" editEnabled="false" />
        <Label for="Term" class="bee-required" />
        <InputDate source="Term" style="width:10em;" required="true" />
      </row>
      <row>
        <Label for="Manager" />
        <DataSelector source="Manager" renderColumns="ManagerFirstName ManagerLastName"
                      choiceColumns="FirstName LastName PositionName CompanyName"
                      editSource="ManagerPerson" newRowEnabled="false" />
        <Label for="Currency" />
        <DataSelector source="Currency" style="width:5em;" editEnabled="false"
                      newRowEnabled="false" />
      </row>
      <row>
        <Label for="Vehicle" />
        <cell colSpan="3">
          <InputText source="Vehicle" style="width:100%;" />
        </cell>
      </row>
      <row>
        <Label for="Driver" />
        <cell colSpan="3">
          <InputText source="Driver" style="width:100%;" />
        </cell>
      </row>
      <row>
        <Label for="Notes" />
        <cell colSpan="3">
          <InputArea source="Notes" visibleLines="4" style="width:100%" />
        </cell>
      </row>
    </Table>
  </FlowPanel>
</f:Form>
