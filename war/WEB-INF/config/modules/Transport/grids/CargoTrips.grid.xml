<?xml version="1.0" encoding="UTF-8"?>
<Grid xmlns="http://www.butent.com/grid"
  xmlns:ui="http://www.butent.com/ui"

  name="CargoTrips" viewName="CargoTrips"
  editForm="CargoPlace" editPopup="true" editInPlace="TripPercent"
  flexGrow="1" flexShrink="1"
  >

  <body height="68" />

  <columns>
    <ActionColumn element="link" name="TripNo" caption="Reiso Nr." />
    <DataColumn name="ExpeditionType" caption="Ekspedijavimo rūšis" />
    <DataColumn name="ForwarderName" caption="Vežėjas" />
    <CalcColumn name="Vehicle" type="string" caption="Transportas" flexBasis="120">
      <render>
        <ui:function>
          var vehicle = row.ForwarderVehicle;
          
          if (!vehicle) {
            if (row.VehicleNumber) {
              vehicle = row.VehicleNumber;
            }
            if (row.TrailerNumber) {
              vehicle = (vehicle ? vehicle + ' / ' : '')  + row.TrailerNumber;
            }
          }          
          return vehicle;
        </ui:function>
      </render>
    </CalcColumn>
    <DataColumn name="DateFrom" caption="Išvyko" />
    <DataColumn name="DateTo" caption="Sugrįžo" />
    <DataColumn name="TripPercent" caption="%" minValue="0" />
    <CalcColumn name="Loading" type="string" cellType="html" caption="Pakrauta" minWidth="115" flexBasis="120" />
    <CalcColumn name="Unloading" type="string" cellType="html" caption="Iškrauta" minWidth="115" flexBasis="120" />
  </columns>
</Grid>
