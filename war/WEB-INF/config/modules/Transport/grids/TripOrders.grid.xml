<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Grid xmlns="http://www.butent.com/grid"
  xmlns:ui="http://www.butent.com/ui"

  name="TripOrders" viewName="TripOrders" caption="Užsakymai"
  newRowForm="TripOrder" editForm="TripOrder" editNewRow="true" editShowId="true"
  newRowCaption="Naujas užsakymas"
  >
  <header borderWidth="1 0" />
  <body height="20" borderWidth="0">
    <style>
      <ui:font>Verdana 12 px</ui:font>
    </style>
  </body>
  <footer borderWidth="0" />

  <columns>
    <DataColumn name="Date" source="Date" caption="Data" />
    <DataColumn name="OrderNo" source="OrderNo" caption="Užsakymo Nr." />
    <CalcColumn name="Status" type="string" caption="Būsena" sortBy="Status">
      <calc><ui:lambda /></calc>
    </CalcColumn>
    <DataColumn name="Customer" source="CustomerName" caption="Užsakovas" />
    <DataColumn name="Payer" source="PayerName" caption="Mokėtojas" />
    <CalcColumn name="Manager" type="string" caption="Vadybininkas"
      sortBy="ManagerFirstName, ManagerLastName" searchBy="ManagerFirstName, ManagerLastName">
      <calc>
        <ui:function>return (row.ManagerFirstName || "") + " " + (row.ManagerLastName || "")</ui:function>
      </calc>
    </CalcColumn>
    <CalcColumn name="Cargo" type="string" caption="Kroviniai" searchBy="Cargo">
      <calc>
        <ui:function>
          if (!row.MinCargo) {
            return row.MaxCargo;
          
          } else if(!row.MaxCargo || row.MinCargo == row.MaxCargo) {
            return row.MinCargo;
          
          } else {
            return row.MinCargo + ", " + row.MaxCargo + (row.CntCargo > 2 ? ", ...": "");
          }
        </ui:function>
      </calc>
    </CalcColumn>
    <DataColumn name="Weight" source="Weight" caption="Svoris" />
    <DataColumn name="Volume" source="Volume" caption="Tūris" />
    <DataColumn name="Quantity" source="Quantity" caption="Kiekis" />
  </columns>
</Grid>
