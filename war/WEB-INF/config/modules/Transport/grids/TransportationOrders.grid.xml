<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Grid xmlns="http://www.butent.com/grid"
  xmlns:ui="http://www.butent.com/ui"

  name="TransportationOrders" viewName="TransportationOrders" caption="=trTransportationOrders"
  editShowId="true" flexGrow="1" flexShrink="1" order="OrderID desc"
  >

  <columns>
    <DataColumn name="Date" caption="=date" />
    <DataColumn name="OrderNo" caption="=orderNumber" />
    <DataColumn name="Status" caption="=status" itemKey="OrderStatus" />
    <DataColumn name="Partial" caption="D" width="15" sortable="false" />
    <DataColumn name="Outsized" caption="N" width="15" sortable="false" />
    <DataColumn name="Dangerous" caption="P" width="15" sortable="false" />
    <CalcColumn name="Expedition" type="boolean" caption="E" width="15" sortable="false">
      <render><ui:expression>row.Expedition ? true : false</ui:expression></render>
    </CalcColumn>
    
    <RelColumn name="Customer" caption="=customer" flexGrow="1" />
    <RelColumn name="Payer" caption="=payer" flexGrow="1" flexShrink="1" />
    <RelColumn name="Manager" caption="=manager" flexGrow="1" flexShrink="1" />
    <CalcColumn name="Cargo" type="string" caption="=cargos" searchBy="MinCargo MaxCargo"
      flexGrow="2" flexShrink="3" flexBasis="200">
      <render>
        <ui:function>
          if (!row.MinCargo) {
            return row.MaxCargo;
          
          } else if(!row.MaxCargo || row.MinCargo == row.MaxCargo) {
            return row.MinCargo;
          
          } else {
            return row.MinCargo + ", " + row.MaxCargo + (row.CntCargo > 2 ? ", ...": "");
          }
        </ui:function>
      </render>
    </CalcColumn>
  </columns>
</Grid>
