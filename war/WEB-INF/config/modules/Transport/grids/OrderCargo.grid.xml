<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Grid xmlns="http://www.butent.com/bee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.butent.com/bee ../../../../schemas/grid.xsd"

  name="OrderCargo" viewName="OrderCargo" caption="Kroviniai"
  newRowForm="OrderCargo" newRowPopup="true" newRowCaption="Naujas krovinys"
  editForm="OrderCargo" editPopup="true"
  >
  <header borderWidth="1 0" />
  <body height="68" borderWidth="0">
    <style>
      <font>Verdana 12 px</font>
    </style>
  </body>
  <footer borderWidth="0" />

  <columns>
    <DataColumn name="Cargo" source="Cargo" caption="Krovinys" />
    <DataColumn name="Weight" source="Weight" caption="Svoris" />
    <DataColumn name="Volume" source="Volume" caption="Tūris" />
    <DataColumn name="Quantity" source="Quantity" caption="Kiekis" />
    <CalcColumn name="Loading" type="string" cell="html" caption="Pakrovimas">
      <calc>
        <function>
          var s = "";
          var tr = "&lt;tr&gt;";
          var tr_ = "&lt;/tr&gt;";
          var tdc = "&lt;td align=\"right\" style=\"font-weight: bold;\"&gt;";
          var td = "&lt;td&gt;";
          var td_ = "&lt;/td&gt;";
          
          if (row.LoadingDate) {
            s = s + tr + tdc + "Data:" + td_ + td + row.LoadingDate.toDateString() + td_ + tr_;
          }
          if (row.LoadingCountryName) {
            s = s + tr + tdc + "Šalis:" + td_ + td + row.LoadingCountryName + td_ + tr_;
          }
          if (row.LoadingPlace) {
            s = s + tr + tdc + "Vieta:" + td_ + td + row.LoadingPlace + td_ + tr_;
          }
          if (row.LoadingTerminal) {
            s = s + tr + tdc + "Terminalas:" + td_ + td + row.LoadingTerminal + td_ + tr_;
          }
          if (s.length > 0) {
            s = "&lt;table border=\"0\" style=\"border-collapse: collapse;\"&gt;" + s + "&lt;/table&gt;";
          }
          return s;
        </function>
      </calc>
    </CalcColumn>
    <CalcColumn name="Unloading" type="string" cell="html" caption="Iškrovimas">
      <calc>
        <function>
          var s = "";
          var tr = "&lt;tr&gt;";
          var tr_ = "&lt;/tr&gt;";
          var tdc = "&lt;td align=\"right\" style=\"font-weight: bold;\"&gt;";
          var td = "&lt;td&gt;";
          var td_ = "&lt;/td&gt;";
          
          if (row.UnloadingDate) {
            s = s + tr + tdc + "Data:" + td_ + td + row.UnloadingDate.toDateString() + td_ + tr_;
          }
          if (row.UnloadingCountryName) {
            s = s + tr + tdc + "Šalis:" + td_ + td + row.UnloadingCountryName + td_ + tr_;
          }
          if (row.UnloadingPlace) {
            s = s + tr + tdc + "Vieta:" + td_ + td + row.UnloadingPlace + td_ + tr_;
          }
          if (row.UnloadingTerminal) {
            s = s + tr + tdc + "Terminalas:" + td_ + td + row.UnloadingTerminal + td_ + tr_;
          }
          if (s.length > 0) {
            s = "&lt;table border=\"0\" style=\"border-collapse: collapse;\"&gt;" + s + "&lt;/table&gt;";
          }
          return s;
        </function>
      </calc>
    </CalcColumn>
    <DataColumn name="Number" source="Number" caption="Numeris" />
    <DataColumn name="Cmr" source="Cmr" caption="CMR" />
    <DataColumn name="Notes" source="Notes" caption="Pastabos">
      <style>
        <bodyStyle>
          <inline>white-space: pre-wrap;</inline>
        </bodyStyle>
      </style>
    </DataColumn>
    <CalcColumn name="Total" type="double" caption="Suma">
      <calc>
        <expression>row.MinCurr == row.MaxCurr ? row.Total : null</expression>
      </calc>
    </CalcColumn>
    <CalcColumn name="Curr" type="string" caption="Val.">
      <calc>
        <expression>row.MinCurr == row.MaxCurr ? row.MaxCurr : null</expression>
      </calc>
    </CalcColumn>
  </columns>
</Grid>
