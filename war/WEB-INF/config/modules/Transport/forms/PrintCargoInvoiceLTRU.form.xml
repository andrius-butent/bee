<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY section "margin-top: 15px;">
  <!ENTITY bold "font-weight:bold;">
  <!ENTITY form "PrintCargoInvoiceLTRU">
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:ui="http://www.butent.com/ui"

  name="&form;" caption="Sąskaita LT/RU" disabledActions="save"
  width="810" widthUnit="px" height="90" heightUnit="%" viewName="PrintCargoInvoice"
  >
  <FlowPanel class="bee-PrintableForm"
             style="padding: 10px 10px 10px 30px; background-color: white;
             font-size:9pt; font-family: Arial, sans-serif;">

      <css id="&form;">
          .&form;-bank div div:first-child:before {content:"a.s. | a.n. (Bankas gavėjas |
        Банк получатель) "; font-weight: bold;}
          .&form;-bank span:after {content:"; ";}
          .&form;-bank .CurrencyName {font-weight: bold;}
          .&form;-bank .CurrencyName:after {content:" ";}
          .&form;-bank .BankAccount {display: none;}
          .&form;-bank .correspondent .BankAccount {display: inline;  white-space: pre;}
          .&form;-bank .correspondent .BankName {
             display: inline-block;
          }
          .&form;-bank .correspondent .BankName:before {content:"Bankas
          korespondentas |
        корреспондент банк: ";}
          .&form;-bank .BankCode:before {content:"Kodas | Код банкa: "; font-weight: bold;}
        .&form;-bank .correspondent .BankCode:before {content:"Kodas | Код банкa: "; font-weight:
        normal ;}
          .&form;-bank .SWIFTCode:before {content:"SWIFT: ";  font-weight: bold;}
      </css>

    <HorizontalPanel>
      <Image url="images/hop_logo.png" style="width:250px;" />
    </HorizontalPanel>

    <HorizontalPanel style="width:100%; margin-top: 2em">
      <cell style="vertical-align:top; text-align:left;" >
        <FlowPanel >
          <TextLabel style="&bold; font-size: 13.5pt;">
            <render>
              <ui:expression>row.Proforma ? 'Sąskaita išankstiniam apmokėjimui | Проформа №' : 'PVM Sąskaita | Счет №'
                + ( row.InvoicePrefix ? ' ' + row.InvoicePrefix : '' )
                + ( row.InvoiceNo ? ' ' + row.InvoiceNo : '')</ui:expression>
            </render>
          </TextLabel>
        </FlowPanel>
      </cell>
    </HorizontalPanel>

    <FlowPanel style="margin-top: 16pt">
      <Table kind="output" style="width:100%;">
        <row>
          <cell style="vertical-align:top; font-size: 9.5pt">
            <Label html="Siuntėjas | Oтправитель:" />
          </cell>
          <cell  style="vertical-align:top; font-size: 9.5pt">
            <Label html="Gavėjas | Получатель:" />
          </cell>
        </row>
        <row>
          <cell rowSpan="4" style="vertical-align:top; width:50%; padding-right: 2em;">
            <FlowPanel>
              <TextLabel source="SupplierName" style="&bold; font-size: 9.5pt">
                <renderToken source="SupplierName" />
                <renderToken source="SupplierType" prefix=" " />
              </TextLabel>
              <br/>
              <TextLabel source="SupplierCode">
                <renderToken source="SupplierCode"
                             prefix="&lt;b&gt;Įmonės kodas | Код компании &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="SupplierVatCode">
                <renderToken source="SupplierVatCode"
                             prefix="&lt;b&gt;PVM kodas | Код НДС &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="SupplierAddress">
                <renderToken source="SupplierAddress" prefix="&lt;b&gt;Adresas | Адрес &lt;/b&gt;" />
                <renderToken source="SupplierPostIndex" prefix=", " />
                <renderToken source="SupplierCityName" prefix=", " />
                <renderToken source="SupplierCountryName" prefix=", " />
              </TextLabel>
              <TextLabel source="SupplierPhone">
                <renderToken source="SupplierPhone" prefix="&lt;b&gt;Telefonas | Телефон &lt;/b&gt;" />
              </TextLabel>
              <TextLabel source="SupplierFax">
                <renderToken source="SupplierFax" prefix="&lt;b&gt;Faksas | Факс &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="SupplierEmail">
                <renderToken source="SupplierEmail"
                             prefix="&lt;b&gt;El.paštas | Эл. почта &lt;/b&gt; " />
              </TextLabel>
              <Label name="BankAccount" class="&form;-bank" />
            </FlowPanel>
          </cell>
          <cell  style="vertical-align:top; width:50%;">
            <FlowPanel>
              <TextLabel source="CustomerName" style="&bold; font-size:9.5pt">
                <renderToken source="CustomerName" />
                <renderToken source="CustomerType" prefix=" " />
              </TextLabel>
              <br />
              <TextLabel source="CustomerCode">
                <renderToken source="CustomerCode"
                             prefix="&lt;b&gt;Įmonės kodas | Код компании &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="CustomerVatCode">
                <renderToken source="CustomerVatCode"
                             prefix="&lt;b&gt;PVM kodas | Код НДС &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="CustomerAddress">
                <renderToken source="CustomerAddress"
                             prefix="&lt;b&gt;Adresas | Адрес &lt;/b&gt; " />
                <renderToken source="CustomerPostIndex" prefix=", " />
                <renderToken source="CustomerCityName" prefix=", " />
                <renderToken source="CustomerCountryName" prefix=", " />
                <renderToken source="CustomerPostIndex" prefix=", " />
              </TextLabel>
              <TextLabel source="CustomerPhone">
                <renderToken source="CustomerPhone"
                             prefix="&lt;b&gt;Telefonas | Телефон &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="CustomerFax">
                <renderToken source="CustomerFax" prefix="&lt;b&gt;Faksas| Факс &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="CustomerEmail">
                <renderToken source="CustomerEmail"
                             prefix="&lt;b&gt;El.paštas | Эл. почта &lt;/b&gt;" />
              </TextLabel>
            </FlowPanel>
          </cell>
        </row>
        <row>
          <cell style="vertical-align:bottom; padding-top: 2em; font-size: 9.5pt">
            <TextLabel>
              <render>
                <ui:expression>row.Payer ? "Mokėtojas | Плательщик:" : null</ui:expression>
              </render>
            </TextLabel>
          </cell>
        </row>
        <row>
          <cell style="vertical-align:top;">
            <FlowPanel>
              <TextLabel source="PayerName" style="&bold; font-size:9.5pt">
                <renderToken source="PayerName" />
                <renderToken source="PayerType" prefix=" " />
              </TextLabel>
              <br />
              <TextLabel source="PayerCode">
                <renderToken source="PayerCode"
                             prefix="&lt;b&gt;Įmonės kodas | Код компании &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="PayerVatCode">
                <renderToken source="PayerVatCode"
                             prefix="&lt;b&gt;PVM kodas | Код НДС &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="PayerAddress">
                <renderToken source="PayerAddress"
                             prefix="&lt;b&gt;Adresas | Адрес &lt;/b&gt; " />
                <renderToken source="PayerPostIndex" prefix=", " />
                <renderToken source="PayerCityName" prefix=", " />
                <renderToken source="PayerCountryName" prefix=", " />
                <renderToken source="PayerPostIndex" prefix=", " />
              </TextLabel>
              <TextLabel source="PayerPhone">
                <renderToken source="PayerPhone"
                             prefix="&lt;b&gt;Telefonas | Телефон &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="PayerFax">
                <renderToken source="PayerFax" prefix="&lt;b&gt;Faksas| Факс &lt;/b&gt; " />
              </TextLabel>
              <TextLabel source="PayerEmail">
                <renderToken source="PayerEmail"
                             prefix="&lt;b&gt;El.paštas | Эл. почта &lt;/b&gt;" />
              </TextLabel>
            </FlowPanel>
          </cell>
        </row>
        <row>
          <cell style="vertical-align:bottom; text-align:right;">
            <FlowPanel>
              <DateTimeLabel source="Date" format="DATE_LONG"/>
              <TextLabel>
                <render>
                  <ui:function>
                    var date = new Date(row.Date);
                    var options = {year: 'numeric', month: 'numeric', day: 'numeric' };
                    return new Intl.DateTimeFormat('ru-ru', options).format(date);
                  </ui:function>
                </render>
              </TextLabel>
            </FlowPanel>
          </cell>
        </row>
      </Table>
    </FlowPanel>
    <br />
    <Table name="InvoiceDetails" kind="output"
           style="&section; width:100%; font-size:7.5pt;">
      <properties rateCurrency="EUR" />
      <row style="vertical-align: top">
        <cell rowSpan="2" style="vertical-align: top">
          <Label html="Paslauga &lt;br /&gt;Услугa">
            <properties name="Name" />
          </Label>
        </cell>
        <cell rowSpan="2" style="vertical-align: top">
          <Label style="white-space: nowrap;" html="Užsakymo Nr. &lt;br /&gt;№ Заказа">
            <properties name="OrderNo" />
          </Label>
        </cell>
        <cell rowSpan="2" style="vertical-align: top">
          <Label style="white-space: nowrap;" html="CMR Nr. &lt;br /&gt;CMR №.">
            <properties name="CmrNumber" />
          </Label>
        </cell>
        <cell style="vertical-align: top; border-bottom: none">
          <FlowPanel class="flex-Vertical">
            <Label html="Pakrovimo data ir laikas | Дата и время погрузки">
              <properties name="LoadingDate" />
            </Label>
            <Label text="Iškrovimo data ir laikas | Дата и время разгрузки">
              <properties name="UnloadingDate" />
            </Label>
          </FlowPanel>
        </cell>
        <cell style="white-space:pre-wrap; vertical-align: top; border-bottom: none">
          <FlowPanel class="flex-Vertical">
            <Label html="Maršrutas &lt;br /&gt;Маршрут" >
              <properties name="Notes" />
            </Label>
          </FlowPanel>
        </cell>
        <cell rowSpan="2" style="vertical-align: top">
          <FlowPanel class="flex-Vertical">
            <Label html="Vairuotojas &lt;br /&gt;Водитель">
              <properties name="Driver" />
            </Label>
            <Label html="Transporto Valst. Nr. &lt;br /&gt;№ Транспортного средства">
              <properties name="Vehicle" />
            </Label>
          </FlowPanel>
        </cell>
        <cell rowSpan="2" style="vertical-align: top">
          <Label html="Suma be PVM &lt;br /&gt;Сумма без НДС">
            <properties name="Amount" />
          </Label>
        </cell>

        <cell rowSpan="2" style="vertical-align: top">
          <Label html="Valiuta &lt;br /&gt;Валюта ">
            <properties name="Currency" />
          </Label>
        </cell>

        <cell rowSpan="2" style="vertical-align: top">
          <Label html="Suma pagal kursą &lt;br /&gt;Сумма по курсу">
            <properties name="RateAmount" />
          </Label>
        </cell>
        <cell rowSpan="2" style="vertical-align: top">
          <Label html="PVM &lt;br /&gt;НДС" horizontalAlignment="right">
            <properties name="Vat" />
          </Label>
        </cell>
        <cell rowSpan="2" style="white-space:pre-wrap; vertical-align: top;">
          <FlowPanel class="flex-Vertical" >
            <Label html="Pastaba &lt;br /&gt;Примечание">
              <properties name="CargoNotes" />
            </Label>
          </FlowPanel>
        </cell>

      </row>
      <row>
        <cell style="border-top: none">
          <Label text="" style="vertical-align: bottom; white-space:pre-wrap; padding-top:1em;">
            <properties name="LoadingNotes" />
          </Label>
        </cell>
        <cell style=" border-top: none">
          <Label html="" style="white-space:pre-wrap; padding-top:1em">
            <properties name="Notes2"  />
          </Label>
        </cell>
      </row>
      <row>
        <cell colSpan="6">
          <FlowPanel style="text-align:right;">
            <Label text="Suma | Итого:" />
            <Label text="PVM | НДС:" />
            <Label text="Bendra suma | Cумма итого:" style="&bold;" />
          </FlowPanel>
        </cell>
        <FlowPanel>
          <Label>
            <properties name="AmountTotal" />
          </Label>
          <Label>
            <properties name="VatTotal" />
          </Label>
          <Label style="&bold;">
            <properties name="Total" />
          </Label>
         </FlowPanel>
        <FlowPanel>
          <Label>
            <properties name="Currency" />
          </Label>
          <Label>
            <properties name="Currency" />
          </Label>
          <Label style="&bold;">
            <properties name="Currency" />
          </Label>
        </FlowPanel>
        <FlowPanel>
          <Label>
            <properties name="RateAmountTotal" />
          </Label>
          <Label>
            <properties name="RateVatTotal" />
          </Label>
          <Label>
            <properties name="RateTotal" />
          </Label>
        </FlowPanel>
        <FlowPanel>
          <Label>
            <properties name="RateCurrency" />
          </Label>
          <Label>
            <properties name="RateCurrency" />
          </Label>
          <Label>
            <properties name="RateCurrency" />
          </Label>
        </FlowPanel>
      </row>
    </Table>

    <TextLabel source="Term" style="&section; &bold;">
      <dynStyle>
        <ui:inline>display:none;</ui:inline>
        <ui:expression>row.Proforma</ui:expression>
      </dynStyle>
      <renderToken source="Term" prefix="Sąskaitą apmokėti iki | Термин оплаты до " />
    </TextLabel>

    <HorizontalPanel >
      <Label html="Suma žodžiais:" />
      <Label name="TotalInWords" />
    </HorizontalPanel>

    <HorizontalPanel >
      <Label html="Сумма прописью:" />
      <Label name="TotalInWordsRU" >
        <properties bee_locale="ru" />
      </Label>
    </HorizontalPanel>

    <Label style="&section; font-size:smaller; &bold;"
           html="Pastaba:
             &lt;br>Šios nuorodos negalioja sąskaitoms su 21 % PVM
             &lt;br>0% PVM tarifas: pagal PVM Isr. 45, 52 str.
             &lt;br>Be PVM: pagal PVM Įst. 13 str.
             &lt;br>Без НДС: “Обратный налог” – по директиве 2006/112/EB">
      <dynStyle>
        <ui:inline>display:none;</ui:inline>
        <ui:expression>row.Proforma</ui:expression>
      </dynStyle>
    </Label>

    <Label style="&section; font-size:smaller;"
           html="Pasibaigus mokėjimo terminui, už kiekvieną uždelstą dieną bus skaičiuojami 0.2% dydžio delspinigiai.
             &lt;br>При окончании срока оплаты начисляется пени в размере 0.2% от суммы оплаты">
      <dynStyle>
        <ui:inline>display:none;</ui:inline>
        <ui:expression>row.Proforma</ui:expression>
      </dynStyle>
    </Label>

    <Label style="&section; &bold;" text="Pastabos | Дополнительная информация:"/>
    <TextLabel source="Notes" style="white-space:pre-wrap;" />
    <br/>
    <br />

    <Table kind="output" style="width:100%; padding:1em;">
      <row style="&bold;">
        <Label html="Sąskaitą išrašė | Счет выставляет: " />
        <br />
        <Label html="Gavėjas | Получатель:" />
      </row>
      <row style="font-size:6.5pt">
        <Label
                html="(Vardas, pavardė, pareigos ir parašas | Имя, фамилия, обязанности и подпись)" />
        <br />
        <Label
                html="(Vardas, pavardė, pareigos ir parašas | Имя, фамилия, обязанности и подпись)" />
      </row>
      <row>
        <cell style="border-bottom: 1px solid black; width:7cm">
          <TextLabel source="Manager" style="margin-top:2em;">
            <renderToken source="ManagerFirstName" />
            <renderToken source="ManagerLastName" />
            <renderToken source="ManagerPosition" prefix=", "/>
          </TextLabel>
        </cell>
        <br />
        <cell style="border-bottom: 1px solid black;  width:7cm">
          <br />
        </cell>
      </row>
    </Table>
  </FlowPanel>
</f:Form>
