<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY section "margin-top: 4px;">
  <!ENTITY separator "<hr/>">
  <!ENTITY inline "display:inline-block;">
  <!ENTITY labelLeft "&inline; width:100px; padding-top:1px;">
  <!ENTITY labelRight "&inline; width:60px; padding-top:1px; text-align:right; margin-right:10px;">
  <!ENTITY input "&inline; width:110px;">
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  
  name="Assessment" viewName="Assessments" caption="=transportAssessmentRequest"
  showRowId="true"
  >
  <FlowPanel style="padding: 10px 2px 2px 10px;" class="flexBox-vertical bee-tr-assessment-form">
    <FlowPanel style="height:65%; overflow:auto;">
      <FlowPanel style="&section;">
        <Label text="=status" style="&labelLeft;" />
        <TextLabel source="Status" itemKey="AssessmentStatus" style="&input; font-weight:bold;" />
        <Label text="=customer" class="bee-required" style="&labelRight; width:120px;" />
        <DataSelector source="Customer" style="&input; width:200px;" />
      </FlowPanel>
      <FlowPanel style="&section;">
        <Label text="=orderDate" class="bee-required" style="&labelLeft;" />
        <InputDateTime source="OrderDate" style="&input;" />
        <Label text="=personContact" style="&labelRight; width:120px;" />
        <DataSelector source="CustomerPerson" style="&input; width:200px;" 
          choiceColumns="FirstName LastName CompanyName" options="Customer" />
      </FlowPanel>
    
      <FlowPanel style="&section;">
        <Label text="=refNumber" style="&labelLeft;" />
        <InputText source="Number" style="&input;" />
        <Label text="=shipper" style="&labelRight; width:120px;" />
        <InputText source="Shipper" style="&input; width:200px;" />
      </FlowPanel>
    
      &separator;
      <xi:include href="widgets/CargoInfo.widget.xml" />

      &separator;
      <FlowPanel style="&section;">
        <Label text="=manager" class="bee-required" style="&labelLeft;" />
        <DataSelector source="Manager" style="&input; width:200px;" editSource="ManagerPerson"
          newRowEnabled="false" />
      </FlowPanel>
      <FlowPanel style="&section;">
        <Label text="=transportComment" style="&labelLeft; vertical-align:top;" />
        <InputArea source="Notes" style="width:400px;" />
      </FlowPanel>
      <FlowPanel style="&section;">
        <Label text="=transportationNumber1" style="&labelLeft;" />
        <InputText source="LoadingTerminal" style="&inline; width:130px;" />
        <Label text="=transportationNumber2" style="&labelRight; width:100px;" />
        <InputText source="UnloadingTerminal" style="&inline; width:130px;" />
      </FlowPanel>

      <FlowPanel name="AmountsPanel" style="&section;">
        &separator;
        <Label text="=customerPrice" style="&labelLeft;" />
        <Label name="IncomeTotal" style="&inline; font-weight:bold; margin-right:5px;" />
        <DataSelector name="Currency" source="Currency" placeholder="=currencyShort"
          style="&inline; width:40px; margin-right:10px;" editEnabled="false" />
        <Label text="=print" style="&labelRight;" />
        <Button name="LT" html="LT" style="&inline; margin-right:10px;" disablable="false" />
        <Button name="RU" html="RU" style="&inline; margin-right:10px;" disablable="false" />
        <Button name="EN" html="EN" style="&inline; margin-right:10px;" disablable="false" />
        
        <FlowPanel style="&section;">
          <Label text="=transportCost" style="&labelLeft;" />
          <Label name="ExpenseTotal" style="&inline; font-weight:bold; margin-right:10px;" />
          <Label text="=cargoProfit" style="&labelRight;" />
          <Label name="Profit" style="&inline; font-weight:bold;" />
        </FlowPanel>
      </FlowPanel>
    </FlowPanel>

    &separator;
    <TabbedPages class="flexible" style="&section; min-height:100px;">
      <page>
        <text>=assessments</text>
        <ChildGrid name="CargoAssessors" relColumn="Cargo" source="Cargo" disablable="false" />
      </page>
      <page>
        <text>=carriers</text>
        <ChildGrid name="AssessmentForwarders" relColumn="Cargo" source="Cargo" disablable="false" />
      </page>
      <page>
        <FlowPanel>
          <Label text="=income" style="&inline;" />
          <FlowPanel name="Income" style="&inline;" />
        </FlowPanel>
        <ChildGrid name="CargoIncomes" relColumn="Cargo" source="Cargo" disablable="false" />
      </page>
      <page>
        <FlowPanel>
          <Label text="=trExpenses" style="&inline;" />
          <FlowPanel name="Expense" style="&inline;" />
        </FlowPanel>
        <ChildGrid name="CargoExpenses" relColumn="Cargo" source="Cargo" disablable="false" />
      </page>
    </TabbedPages>
  </FlowPanel>
</f:Form>
