<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY ROW_STYLE "margin-bottom: 1ex;">
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form" 
  xmlns:d="http://www.butent.com/decorator"
  xmlns:xi="http://www.w3.org/2001/XInclude"


  name="Trip" viewName="Trips" caption="Reisas"
  width="900" height="600"
  >
  <FlowPanel class="flexBox-vertical">

    <FlowPanel class="flexBox-horizontal" style="margin-bottom: 1ex;">
      <Table>
        <row> 
          <FlowPanel  class="flexBox-vertical">
            <SimplePanel style="margin-top: 10px;"> 
              <InputDateTime source="Date" caption="Data" style="width: 140px;" 
                  decorator="flex-left" d:unit="px" d:align="left" d:size="60" />
            </SimplePanel>  
            <SimplePanel style="margin-top: 10px"> 
              <DataSelector source="Vehicle" caption="Vilkikas"  style="width: 140px;"  renderColumns="VehicleNumber"
                filter="IsTruck" d:size="60" d:unit="px" d:align="left" required="true" />
            </SimplePanel>    
          </FlowPanel>
        </row>
        <row>
        </row>
      </Table>
      <Table>
        <row> 
          <FlowPanel  class="flexBox-vertical" style="margin-left: 1em;">
            <SimplePanel style="margin-top: 10px">
              <InputDate source="PlannedEndDate" caption="Planuojama pabaigos data " style="width: 7em; margin: 0 2px" />
            </SimplePanel>
            <SimplePanel style="margin-top: 12px">   
              <DataSelector source="Trailer" caption="Puspriekabė" filter="IsTrailer"
                d:size="90" d:unit="px" d:align="left" />
            </SimplePanel>    
          </FlowPanel>  
        </row>
      </Table>  
      
      <Table>
        <row>
          <FlowPanel  class="flexBox-vertical" style="margin-left: 1em;">   
            <SimplePanel style="margin-top: 10px"> 
              <InputText source="TripNo" caption="Reiso Nr."  style="width: 100px;" />
            </SimplePanel>  
            <ListBox source="Status" itemKey="TripStatus"
              caption="Būsena"
              style="margin-bottom: 10px; width: 100px; margin-left: 10px; margin-top: 10px;" />
            <Button name="profit" html="Pelnas"
              style="width: 100px; margin-left: 60px; margin-top: 5px;" />
          </FlowPanel>
        </row>
      </Table>  

      <Table>
        <row>
          <FlowPanel class="flexBox-vertical">
            <Label html="Pastabos" style="margin-top: 5px; margin-left: 8px;" />
            <SimplePanel style="position: relative; min-width: 10em; " class="flexible">
              <InputArea source="Notes" style="height: 80px; width: 200px;margin-left: 8px;" />
            </SimplePanel>
          </FlowPanel>
        </row>
      </Table>  

      <Table>
        <row>
        </row>
      </Table>
    </FlowPanel>
    <FlowPanel>
      <ChildGrid name="TripDrivers" relColumn="Trip"
        style="width:300px; padding-top:20px; position:relative; top:-40px" />
    </FlowPanel>
    <TabbedPages class="flexible" style="margin-top: 1ex;">
      <page>
        <text>Pagrindiniai duomenys</text>
        <FlowPanel class="flexBox-horizontal">
          <FlowPanel class="flexBox-vertical" style="margin-left: 1em">
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <Label html="Išvykimas" style="font-weight: bold; margin: 0 20px" />
              <Label html="Sugrįžimas" style="font-weight: bold; margin: 0 65px" />
            </FlowPanel>
            
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <SimplePanel>
                <InputDate source="DateFrom" style="width: 7em;" />
              </SimplePanel>
              <Label html="Data"  style="margin: 0 20px 0 20px"/>
              <SimplePanel>
                <InputDate source="DateTo" style="width: 7em;" />
              </SimplePanel>
            </FlowPanel>
            
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <SimplePanel>
                <InputDouble source="SpeedometerBefore" style="width: 6em;" />
              </SimplePanel>
              <Label html="Spidometras" style="margin: 0 10px 0 10px" />
              <SimplePanel>
                <InputDouble source="SpeedometerAfter" style="width: 6em;" />
              </SimplePanel>
            </FlowPanel>
            
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <SimplePanel>
                <InputDecimal source="FuelBefore" style="width: 4em;" />
              </SimplePanel>
              <Label html="Kuro likutis bake" style="margin: 0 24px 0 24px"/>
              <SimplePanel>
                <InputDecimal source="FuelAfter" style="width: 4em;" />
              </SimplePanel>
            </FlowPanel>
           
          </FlowPanel>

          <FlowPanel class="flexBox-vertical flexible" style="margin-left: 1em;">
            <ChildGrid name="DriverAdvances" parent="TripDrivers" relColumn="Driver" class="flexible" />
          </FlowPanel>
        </FlowPanel>
      </page>
      <page>
        <text>=cargos</text>
        <ChildGrid name="TripCargo" relColumn="Trip" />
      </page>
      <page>
        <text>Išlaidos</text>
        <ComplexPanel>
          <layer top="0" bottom="40" bottomUnit="%" left="0" right="0">
            <ChildGrid name="TripCosts" relColumn="Trip" />
          </layer>
          <layer top="60" topUnit="%" bottom="0" left="0" right="0">
            <ChildGrid name="TripFuelCosts" relColumn="Trip" />
          </layer>
        </ComplexPanel>
      </page>
      <page>
        <text>Kelionės lapai</text>
        <ComplexPanel>
          <layer top="0" bottom="30" bottomUnit="%" left="0" right="0">
            <ChildGrid name="TripRoutes" relColumn="Trip" />
          </layer>
          <layer top="70" topUnit="%" bottom="0" left="0" right="40" rightUnit="%">
            <ChildGrid name="TripFuelConsumptions" relColumn="Trip" />
          </layer>
        </ComplexPanel>
      </page>
      <page>
        <text>=documents</text>
        <ChildGrid name="RelatedDocuments" relColumn="Trip" />
      </page>
    </TabbedPages>
  </FlowPanel>
 
</f:Form>
