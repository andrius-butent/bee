<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY section "margin-top: 5px;">
  <!ENTITY bold "font-weight:bold;">
  <!ENTITY form "PrintLogisticsInvoiceEN">
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:ui="http://www.butent.com/ui"

  name="&form;" caption="Sąskaita LT/EN" disabledActions="save"
  width="70" widthUnit="%" height="90" heightUnit="%" viewName="PrintLogisticsInvoice"
  >
  <FlowPanel class="bee-PrintableForm bee-tr-Invoice-Print"
    style="font-family:Tahoma; font-size:8pt;">
    <css id="&form;">
      .&form;-bank div div:first-child:before {content:"a.s. / a.n.: ";}
      .&form;-bank span:after {content:"; ";}
      .&form;-bank .CurrencyName {font-weight: bold;}
      .&form;-bank .CurrencyName:after {content:" ";}
      .&form;-bank .BankAccount {display: none;}
      .&form;-bank .correspondent .BankAccount {display: inline;}
      .&form;-bank .correspondent .BankName:before {content:"bankas korespondentas / correspondent bank: ";}
      .&form;-bank .BankCode:before {content:"kodas / code: ";}
      .&form;-bank .SWIFTCode:before {content:"SWIFT: ";}
    </css>
    <VerticalPanel>
      <cell style="text-align:center;">
        <Image url="images/HL_logo.jpg" style="width:50%; margin: 1em 0 1em 0;" />
      </cell>
      <cell width="100" widthUnit="%" style="text-align:center; &bold; font-size:medium;">
        <FlowPanel>
          <TextLabel inline="true" style="margin-right: 2px;">
            <render>
              <ui:expression>row.Proforma
                ? 'Sąskaita išankstiniam apmokėjimui Nr. / Proforma invoice No.:'
                : 'PVM Sąskaita faktūra Nr. / Invoice No.:'</ui:expression>
            </render>
          </TextLabel>
          <TextLabel source="InvoiceNo" inline="true">
            <renderToken source="InvoicePrefix" suffix="-" />
            <renderToken source="InvoiceNo" />
          </TextLabel>
        </FlowPanel>
      </cell>
    </VerticalPanel>

    <FlowPanel style="&section;">
      <Table kind="output" style="width:100%;">
        <row>
          <cell>
            <Label html="Ekspeditorius / Forwarding agent:" />
          </cell>
          <cell>
            <Label html="Užsakovas / Client:" />
          </cell>
        </row>
        <row>
          <cell style="vertical-align:top; width:50%;">
            <FlowPanel>
              <TextLabel source="SupplierName" style="&bold;">
                <renderToken source="SupplierName" />
                <renderToken source="SupplierType" prefix=", " />
              </TextLabel>
              <TextLabel source="SupplierCode">
                <renderToken source="SupplierCode" prefix="Įm.kodas / Company code: " />
              </TextLabel>
              <TextLabel source="SupplierVatCode">
                <renderToken source="SupplierVatCode" prefix="PVM kodas / VAT code: " />
              </TextLabel>
              <TextLabel source="SupplierAddress">
                <renderToken source="SupplierAddress" prefix="Adresas / Address: " />
                <renderToken source="SupplierPostIndex" prefix=", " />
                <renderToken source="SupplierCityName" prefix=", " />
                <renderToken source="SupplierCountryName" prefix=", " />
              </TextLabel>
              <TextLabel source="SupplierPhone">
                <renderToken source="SupplierPhone" prefix="Telefonas / Phone: " />
              </TextLabel>
              <TextLabel source="SupplierFax">
                <renderToken source="SupplierFax" prefix="Faksas / Fax: " />
              </TextLabel>
              <Label name="BankAccount" class="&form;-bank" />
            </FlowPanel>
          </cell>
          <cell style="vertical-align:top; width:50%;">
            <FlowPanel>
              <TextLabel source="CustomerName" style="&bold;">
                <renderToken source="CustomerName" />
                <renderToken source="CustomerType" prefix=", " />
                <renderToken source="CustomerName2" prefix=" / " />
              </TextLabel>
              <TextLabel source="CustomerCode">
                <renderToken source="CustomerCode" prefix="Įm.kodas / Company code: " />
              </TextLabel>
              <TextLabel source="CustomerVatCode">
                <renderToken source="CustomerVatCode" prefix="PVM kodas / VAT code: " />
              </TextLabel>
              <TextLabel source="CustomerAddress">
                <renderToken source="CustomerAddress" prefix="Adresas / Address: " />
                <renderToken source="CustomerPostIndex" prefix=", " />
                <renderToken source="CustomerCityName" prefix=", " />
                <renderToken source="CustomerCountryName" prefix=", " />
                <renderToken source="CustomerAddress2" prefix=" / " addPrefixWhenEmpty="true" />
                <renderToken source="CustomerPostIndex" prefix=", " />
                <renderToken source="CustomerCityName2" prefix=", " />
                <renderToken source="CustomerCountryName2" prefix=", " />
              </TextLabel>
              <TextLabel source="CustomerPhone">
                <renderToken source="CustomerPhone" prefix="Telefonas / Phone: " />
              </TextLabel>
              <TextLabel source="CustomerFax">
                <renderToken source="CustomerFax" prefix="Faksas / Fax: " />
              </TextLabel>
            </FlowPanel>
          </cell>
        </row>
        <row>
          <cell  colSpan="2">
            <FlowPanel>
              <FlowPanel>
                <InlineLabel html="Transporto valst.nr./Vechicle State No.: " />
                <InlineLabel name="Vehicle" />
              </FlowPanel>
              <FlowPanel>
                <InlineLabel html="Pakrovimo data/Date load: " />
                <InlineLabel name="LoadingPlace" />
              </FlowPanel>
              <FlowPanel>
                <InlineLabel html="Iškrovimo data/Date offload: " />
                <InlineLabel name="UnloadingPlace" />
              </FlowPanel>
            </FlowPanel>
          </cell>
        </row>
        <row>
          <cell colSpan="2">
            <TextLabel source="Notes" />
          </cell>
        </row>
      </Table>
    </FlowPanel>

    <HorizontalPanel style="float:right;">
      <Label html="Data / date:" style="&bold;" />
      <DateTimeLabel source="Date" format="DATE_SHORT" />
    </HorizontalPanel>

    <Table kind="output" name="InvoiceDetails" style="&section; width:100%">
      <properties rateCurrency="EUR" />
      <row>
        <cell rowSpan="2">
          <Label text="Nr. / No.">
            <properties name="Ordinal" />
          </Label>
        </cell>
        <cell rowSpan="2">
          <FlowPanel>
            <InlineLabel text="Paslauga">
              <properties name="Name" />
            </InlineLabel>
            <InlineLabel text=" / " />
            <InlineLabel text="Service">
              <properties name="Name2" />
            </InlineLabel>
          </FlowPanel>
        </cell>
        <cell rowSpan="2">
          <Label text="Maršrutas / Route">
            <properties name="Notes" />
          </Label>
        </cell>
        <Label text="Užsakymo Nr. / Order No.">
          <properties name="Assessment" />
        </Label>
        <cell rowSpan="2">
          <Label text="Suma / Amount">
            <properties name="Amount" />
          </Label>
        </cell>
        <cell rowSpan="2" colSpan="2">
          <Label text="Suma pagal kursą / Amount by rate">
            <properties name="RateAmount" />
          </Label>
        </cell>
        <cell rowSpan="2">
          <Label text="PVM / VAT">
            <properties name="Vat" />
          </Label>
        </cell>
      </row>
      <row>
        <Label text="Ref Nr. / Ref No.">
          <properties name="Number" />
        </Label>
      </row>
      <row>
        <cell colSpan="2">
          <FlowPanel>
            <InlineLabel text="Kursas / Rate: " />
            <InlineLabel>
              <properties name="Rate" />
            </InlineLabel>
          </FlowPanel>
        </cell>
        <cell colSpan="2">
          <FlowPanel style="text-align:right;">
            <Label text="Suma / Amount:" />
            <Label text="PVM / VAT:" />
            <Label text="Bendra suma / Total amount:" style="&bold;" />
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver; border-left: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="AmountTotal" />
            </Label>
            <Label>
              <properties name="VatTotal" />
            </Label>
            <Label style="&bold;">
              <properties name="Total" />
            </Label>
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="Currency" />
            </Label>
            <Label>
              <properties name="Currency" />
            </Label>
            <Label style="&bold;">
              <properties name="Currency" />
            </Label>
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="RateAmountTotal" />
            </Label>
            <Label>
              <properties name="RateVatTotal" />
            </Label>
            <Label>
              <properties name="RateTotal" />
            </Label>
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver; border-right: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="RateCurrency" />
            </Label>
            <Label>
              <properties name="RateCurrency" />
            </Label>
            <Label>
              <properties name="RateCurrency" />
            </Label>
          </FlowPanel>
        </cell>
      </row>
    </Table>

    <HorizontalPanel style="&section; &bold;">
      <InlineLabel html="Prašome šią sąskaitą faktūrą apmokėti" />
      <TextLabel source="CurrencyName" />
      <InlineLabel html="valiuta / Please pay this invoice in" />
      <TextLabel source="CurrencyName" />
      <InlineLabel html="currency" />
    </HorizontalPanel>

    <TextLabel source="Term" style="&section; &bold; white-space:pre-wrap;">
      <render>
        <ui:function>
if (row.Term) {
  var dt = new Date(row.Term);

  return "Sąskaitą apmokėti iki / Pay due date: " + dt.getFullYear()
  + "." + (dt.getMonth() &lt; 9 ? "0" : "") + (dt.getMonth() + 1)
  + "." + (dt.getDate() &lt; 10 ? "0" : "") + dt.getDate()
  + " (per/within " + Math.ceil((dt.getTime() - new Date(row.Date).getTime()) / 86400000) + " dien./days)";
}
return null;
        </ui:function>
      </render>
    </TextLabel>

    <FlowPanel style="&section;">
      <InlineLabel html="Suma žodžiais: " />
      <InlineLabel name="TotalInWords" />
    </FlowPanel>
    <FlowPanel style="&section;">
      <InlineLabel html="Total in words: " />
      <InlineLabel name="TotalInWordsEN">
        <properties bee_locale="en" />
      </InlineLabel>
    </FlowPanel>

    <HtmlPanel style="&section;">
      <span style="font-size:smaller; &bold; display:block; white-space:pre-wrap;">
Pastaba:
Šios nuorodos negalioja sąskaitoms su 21 % PVM
0 % PVM tarifas: pagal PVM 1 sr. 45 str.
Be PVM: Pagal PVM įst. 13 (1) str.
Without VAT: "Reverse charge" - according Directive 2006/112/EB
      </span>
      <span style="font-size:smaller; display:block; white-space:pre-wrap;">
Pasibaigus mokėjimo terminui, už kiekvieną uždelstą dieną bus skaičiuojami 0.2% dydžio delspinigiai. /
After the due period of payment the fine of 0.2% will be calculated for each day.
Padarę apmokėjimą prašome raštu atsiųsti pavedimo kopiją./Please fax the copy of your banking
documents after the transaction will be made.
      </span>
    </HtmlPanel>

    <Label html="Kiti dokumentai/Other documents:" style="&section; &bold;" />
    <TextLabel name="Documents" style="white-space:pre-wrap;" />

    <Table kind="output" style="width:100%; margin-top:10px;">
      <row style="&bold;">
        <Label html="Išdavė / Dispenser:" />
        <Label html="Gavėjas / Receiver:" />
      </row>
      <row style="font-size:xx-small;">
        <Label html="(vardas, pavardė, pareigos ir parašas / name, lastname, position and signature)" />
        <Label html="(vardas, pavardė, pareigos ir parašas / name, lastname, position and signature)" />
      </row>
      <row>
        <TextLabel source="Manager" style="margin-top:5px;">
          <renderToken source="ManagerFirstName" />
          <renderToken source="ManagerLastName" />
          <renderToken source="ManagerPosition" prefix=", " />
        </TextLabel>
      </row>
      <row style="font-size:xx-small;">
        <FlowPanel style="height:1px; background-color:black; width:70%;" />
        <FlowPanel style="height:1px; background-color:black; width:70%;" />
      </row>
    </Table>
  </FlowPanel>
</f:Form>