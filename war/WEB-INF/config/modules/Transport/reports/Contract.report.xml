<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              name="Contract">

  <import value="com.butent.bee.shared.utils.EnumUtils" />
  <import value="com.butent.bee.shared.i18n.SupportedLocale" />
  <import value="com.butent.bee.server.i18n.Localizations" />

  <style name="Font" isDefault="true" fontName="DejaVu Sans" />

  <parameter name="PersonEmail" class="java.lang.String" />
  <parameter name="CompanyName" class="java.lang.String" />
  <parameter name="Locale" class="java.lang.String" />

  <variable name="loc" class="com.butent.bee.shared.i18n.LocalizableConstants">
    <initialValueExpression>
      Localizations.getConstants(Locale.forLanguageTag(EnumUtils.getEnumByIndex(SupportedLocale.class,
      $P{Locale}).getLanguage()))
    </initialValueExpression>
  </variable>
  <title>
    <band height="15">
      <textField isStretchWithOverflow="true">
        <reportElement x="0" y="0" width="555" height="15" />
        <box>
          <pen lineWidth="1" lineStyle="Dotted" />
        </box>
        <textElement textAlignment="Center" />
        <textFieldExpression>$V{loc}.trContract()</textFieldExpression>
      </textField>
    </band>
  </title>

  <detail>
    <band>
      <textField isStretchWithOverflow="true">
        <reportElement x="0" y="0" width="515" height="00" />
        <textFieldExpression>$P{PersonEmail}</textFieldExpression>
      </textField>
    </band>
  </detail>

  <pageFooter>
    <band height="15">
      <textField isStretchWithOverflow="true">
        <reportElement x="0" y="0" width="555" height="0" />
        <textElement textAlignment="Right">
          <font size="8" />
        </textElement>
        <textFieldExpression>$V{PAGE_NUMBER} + "/" + $V{PAGE_COUNT}</textFieldExpression>
      </textField>
    </band>
  </pageFooter>

  <summary>
    <band>
      <textField isStretchWithOverflow="true">
        <reportElement x="0" y="0" width="555" height="0" />
        <textElement>
          <font size="8" />
        </textElement>
        <textFieldExpression>$P{CompanyName}</textFieldExpression>
      </textField>
    </band>
  </summary>
</jasperReport>
