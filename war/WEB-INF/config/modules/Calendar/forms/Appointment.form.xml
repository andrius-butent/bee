<?xml version="1.0" encoding="UTF-8"?>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:ui="http://www.butent.com/ui"
  xmlns:d="http://www.butent.com/decorator"

  name="Appointment" viewName="Appointments" caption="=calAppointment">

  <FlowPanel>
    <AbsolutePanel style="top: 5px; height: 240px; left: 1em; right: 1em;">
      <layer top="0" bottom="0" width="240">
        <FlowPanel>
          <DataSelector source="CompanyName" caption="=company" style="width: 140px;"
            d:size="80" d:unit="px" />
          <TextLabel source="CompanyPhone" caption="=phone" inline="true"
            d:size="80" d:unit="px" />
          <TextLabel source="CompanyEmail" caption="=email" inline="true"
            d:size="80" d:unit="px">
            <renderToken source="CompanyLabel" suffix=" " />
            <renderToken source="CompanyEmail" prefix="&lt;" suffix="&gt;" />
          </TextLabel>
          <br/>  

          <InputText source="Summary" caption="=summary"
            style="width: 222px;" decorator="caption-top" />
          <InputArea source="Description" caption="=calDescription" visibleLines="5"
            style="width: 222px;" decorator="caption-top" />
        </FlowPanel>
      </layer>

      <layer top="0" bottom="0" left="260" right="260">
        <FlowPanel>
          <InputDate source="StartDate" caption="=scheduledStartingDate"
            style="width: 80px;" d:size="180" d:unit="px" />
          <div style="height: 2px;" />
          <InputDate source="EndDate" caption="=scheduledEndingDate"
            style="width: 80px;" d:size="180" d:unit="px" />
          <br/>  

          <InputDateTime source="StartDateTime" caption="=scheduledStartingTime" step="30"
            style="width: 120px;" d:size="180" d:unit="px" />
          <div style="height: 2px;" />
          <InputDateTime source="EndDateTime" caption="=scheduledEndingTime" step="30"
            style="width: 120px;" d:size="180" d:unit="px" />
          <br/>  

          <InputDateTime source="EffectiveStart" caption="=startDate" step="5"
            style="width: 120px;" d:size="180" d:unit="px" />
          <div style="height: 2px;" />
          <InputDateTime source="EffectiveEnd" caption="=ended" step="5"
            style="width: 120px;" d:size="180" d:unit="px" />
          <br/>  

          <ListBox source="Status" itemKey="AppointmentStatus" caption="=calAppointmentStatus"
            style="width: 120px;" d:size="180" d:unit="px" />
        </FlowPanel>
      </layer>

      <layer top="0" bottom="0" width="260" right="0">
        <FlowPanel>
          <DataSelector source="AppointmentType" caption="=calAppointmentType" 
            style="width: 140px;" d:size="100" d:unit="px" />
          <div style="height: 2px;" />
          <DataSelector source="ColorName" caption="=color"
            style="width: 140px;" d:size="100" d:unit="px" />
          <div style="height: 2px;" />
          <DataSelector source="Style" caption="=calStyle"
            style="width: 140px;" d:size="100" d:unit="px" />

          <br/>  
          <DataSelector source="Organizer" caption="=responsibleEmployee" style="width: 242px;" 
            decorator="caption-top">
            <renderToken source="OrganizerFirstName" />
            <renderToken source="OrganizerLastName" />
            <renderToken source="OrganizerCompanyName" prefix=", " />
          </DataSelector>

          <br/>  
          <InputDateTime source="Created" caption="=registered"
            style="width: 140px;" d:size="100" d:unit="px" />
          <div style="height: 2px;" />
          <DataSelector source="Creator" caption="=creator" editSource="CreatorCompanyPerson"
            style="width: 140px;" d:size="100" d:unit="px"/>
        </FlowPanel>
      </layer>
    </AbsolutePanel>

    <TabbedPages style="position: absolute; left: 1em; right: 1em; top: 250px; bottom: 1ex;">
      <page>
        <text>=calAppointmentAttendees</text>
        <ChildGrid name="AppointmentAttendees" relColumn="Appointment" />
      </page>

      <page>
        <text>=calParameters</text>
        <ChildGrid name="AppointmentProps" relColumn="Appointment" />
      </page>

      <page>
        <text>=calReminders</text>
        <ChildGrid name="AppointmentReminders" relColumn="Appointment" />
      </page>

      <page>
        <text>=transport</text>
        <Table style="border-collapse: collapse; margin-top: 2ex;"
          cellStyle="padding: 3px; border: 1px solid #ccc;" >
          <row>
            <DataSelector source="VehicleNumber" caption="=vehicleNumber" />
            <TextLabel source="Vehicle" caption="=vehicleModel" inline="true"
              renderColumns="VehicleParentModel VehicleModel" />
            <TextLabel source="VehicleType" caption="=vehicleType" inline="true" />
          </row>

          <row>
            <cell colSpan="3">
              <TextLabel source="VehicleOwnerName" caption="=vehicleOwnerName" inline="true" />
            </cell>
          </row>

          <row>
            <DateLabel source="VehicleProductionDate" caption="=vehicleProductionDate" inline="true" />
            <TextLabel source="VehicleEngineNumber" caption="=vehicleEngineNumber" inline="true" />
            <TextLabel source="VehicleBodyNumber" caption="=vehicleBodyNumber" inline="true" />
          </row>

          <row>
            <IntegerLabel source="VehicleNetto" caption="=vehicleNetto" inline="true"
              style="width: 100px;" />
            <IntegerLabel source="VehicleBrutto" caption="=vehicleBrutto" inline="true"
              style="width: 100px;" />
          </row>

          <row>
            <DecimalLabel source="VehiclePower" caption="=vehiclePower" inline="true"
              style="width: 100px;" />
            <IntegerLabel source="VehicleEngineVolume" caption="=vehicleEngineVolume"
              inline="true" style="width: 100px;" />
          </row>

          <row>
            <TextLabel source="VehicleFuel" caption="Kuro rūšis" inline="true" />
            <DecimalLabel source="VehicleTankCapacity" caption="=vehicleTankCapacity"
              inline="true" style="width: 100px;" />
            <IntegerLabel source="VehicleSpeedometer" caption="=vehicleSpeedometer"
              inline="true" style="width: 100px;" />
          </row>

          <row>
            <cell colSpan="3">
              <TextLabel source="VehicleNotes" caption="=vehicleNotes" style="white-space: pre-wrap;" />
            </cell>  
          </row>
        </Table>
      </page>

      <page>
        <text>=calAppointmentHistory</text>
        <ChildGrid name="AppointmentHistory" relColumn="Appointment" />
      </page>

      <page>
        <text>=additionalInfo</text>
        <Table style="margin-top: 2ex;" cellStyle="padding: 5px;">
          <row>
            <Radio source="Transparency" itemKey="Transparency" vertical="false" />
            <Radio source="Visibility" itemKey="Calendar_Visibility" vertical="false" />
            <CheckBox source="ReadOnly" text="=calReadOnly" />
          </row>

          <row>
            <InputText source="Location" caption="=location" 
              style="width: 200px;" d:size="120" d:unit="px" />
            <InputText source="HtmlLink" caption="=calHtmlLink"
              style="width: 200px;" d:size="120" d:unit="px" />
          </row>

          <row>
            <DataSelector source="StartTimeZone" caption="=calStartTimeZone"
              style="width: 200px;" d:size="120" d:unit="px" />
            <DataSelector source="EndTimeZone" caption="=calEndTimeZone"
              style="width: 200px;" d:size="120" d:unit="px" />
            <CheckBox source="UseDefaultReminders" text="=calUseDefaultReminders" />
          </row>

          <row>
            <InputArea source="Recurrence" caption="Recurrence" style="width: 320px;" 
              decorator="caption-top" />
            <LongLabel source="RecurringEventId" caption="=calRecurringEventId" inline="true"
              style="width: 200px;" d:size="120" d:unit="px" />
          </row>

          <row>
            <InputText source="ICalUID" caption="=calICalUID"
              style="width: 200px;" d:size="120" d:unit="px" />
            <InputInteger source="Sequence" caption="=calSequence"
              style="width: 200px;" d:size="120" d:unit="px" />
          </row>

          <row>
            <CheckBox source="AnyoneCanAddSelf" text="=calAnyoneCanAddSelf" />
            <CheckBox source="GuestsCanInviteOthers" text="=calGuestsCanInviteOthers" />
            <CheckBox source="GuestsCanSeeOtherGuests" text="=calGuestsCanSeeOtherGuests" />
          </row>
        </Table>
      </page>

    </TabbedPages>
  </FlowPanel>
</f:Form>  
