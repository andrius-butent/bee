<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE Form [
  <!ENTITY lbl1 "margin-left: 1em; margin-right: 1em; text-align: right">
]>

<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:d="http://www.butent.com/decorator"

  name="Company"
  viewName="Companies"
  caption="=client"
  width="800"
  height="500"
  >
  <FlowPanel class="flexBox-vertical">
    <Table>
      <row>
        <Label text="=name" style="&lbl1;" class="bee-required" />
        <InputText source="Name" style="width: 200px;"  />
        <Label text="=companyStatus" style="&lbl1;" />
        <DataSelector source="CompanyType" style="width: 80px;"  />
        <Label text="=group" style="&lbl1;" />
        <DataSelector source="CompanyGroup" style="width: 80px;"  />
        <Label text="=priority" style="&lbl1;" />
        <DataSelector source="CompanyPriority" style="width: 64px;" />
      </row>
      <row>
        <Label text="=companyCode" style="&lbl1;" />
        <InputText source="Code" />
        <Label text="=companyVATCode" style="&lbl1;" />
        <InputText source="VATCode" style="width: 120px;" upperCase="true" />
        <Label text="=code" style="&lbl1;" />
        <InputText source="ExchangeCode" style="width: 140px;" />
      </row>
    </Table> 
    
    <xi:include href="widgets/ContactInfo.widget.xml" />

    <TabbedPages class="flexible" style="margin-top: 15px;">
      <page>
        <text>=personContacts</text>
        <ChildGrid name="CompanyPersons" relColumn="Company" />
      </page>
      <page>
      	<text>=responsibilities</text>
       	<ChildGrid name="CompanyUsers" relColumn="Company" />
      </page>
      <page>
        <text>=additionalInfo</text>
        <FlowPanel style="margin:5px;">
          <Table>
          	 <row>
          	   <Label text="=companySize" />
          	   <DataSelector source="CompanySize" style="width: 100px;" />
          	   <Label text="=informationSource" style="margin-left: 8px; margin-right: 8px;" />
          	   <DataSelector source="InformationSource" style="width: 100px;" />
          	 </row>
          	 <row>
          	   <Label text="=companyActivities" style="margin-right: 5px" />
          	   <cell colSpan="3">
                 <ChildSelector viewName="CompanyActivities" childTable="CompActStore"
                   label="=companyActivities" style="width: 338px;" />
          	   </cell>
          	 </row>
          	 <row>
          	   <Label text="=rating" />
          	   <InputText source="Rating" style="width:100px;" />
          	 </row>
          </Table>
        </FlowPanel>
      </page>
      <page>
        <text>=relationshipInfo</text>
        <FlowPanel style="margin:5px;">
          <Table>
            <row>
              <DataSelector source="CompanyRelationType" caption="=relationship" style="width: 75px;"
               d:size="52" d:unit="px" />
            </row>
            <row>
              <DataSelector source="CompanyRelationTypeState" caption="=status" style="width: 75px;"
              d:size="53" d:unit="px" />
            </row>
          </Table>
        </FlowPanel>
      </page>
      <page>
        <text>=financialInfo</text>
        <FlowPanel>
          <InputDecimal source="CreditLimit1" caption="=creditLimit" style="width: 100px;"
            d:size="100" d:unit="px" d:rootStyle="position:absolute; left: 20px; top: 20px;" />
          <InputDecimal source="CreditLimit2" caption="=creditTolerance" style="width: 100px;"
            d:size="110" d:unit="px" d:rootStyle="position:absolute; left: 275px; top: 20px;" />
          <DataSelector source="LimitCurrency" caption="=limitCurrency" style="width: 40px;"
            d:size="100" d:unit="px" d:rootStyle="position:absolute; left: 20px; top: 45px;"
            editEnabled="false" />
          <InputInteger source="CreditDays" caption="=creditDays" style="width: 40px;"
            d:size="110" d:unit="px" d:rootStyle="position:absolute; left: 275px; top: 45px;" />
          <DataSelector source="FinancialState" caption="=financialState" style="width: 145px;"
            d:size="100" d:unit="px" d:rootStyle="position:absolute; left: 20px; top: 70px;" />
        </FlowPanel>
      </page>
      <page>
        <text>=documents</text>
        <ChildGrid name="RelatedDocuments" relColumn="Company" />
      </page>
      <page>
        <text>=notes</text>
        <SimplePanel>
          <InputArea source="Notes" class="occupy-1" />
        </SimplePanel>
      </page>  
    </TabbedPages>

  </FlowPanel>
</f:Form>  
