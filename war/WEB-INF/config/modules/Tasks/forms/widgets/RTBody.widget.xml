<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE FlowPanel [
  <!ENTITY tbl "border-collapse: collapse;">
  <!ENTITY cell "vertical-align: top; padding-bottom: 2px;">
  <!ENTITY col1 "text-align: right; padding-right: 8px;">
  <!ENTITY clbl "text-align: right; padding-left: 8px; padding-right: 8px;">

  <!ENTITY inp2x "width: 500px;">
  <!ENTITY inp2y "width: 500px;">
  
  <!ENTITY spinner "width: 40px;">
  
  <!ENTITY tod "width: 50px;">
  <!ENTITY timeStep "30">
  <!ENTITY lbl1 "width: 115px; text-align: right; padding-right: 9px;">
  <!ENTITY lbl2 "text-align: right; padding-right: 9px;">
]>
<FlowPanel xmlns="http://www.butent.com/widget">
  <Table style="border-spacing: 5px;">
    <row>
      <Label text="=crmRTScheduleFrom" class="bee-required" style="&lbl1;"/>
      <InputDate source="ScheduleFrom" style="width: 100px;" />
	  <Label text="=priority" style="&lbl1; width: 135px;"/>
      <Radio source="Priority" />
    </row>

    <row>
	 <Label text="=crmRTScheduleUntil" style="&lbl1;"/>
      <InputDate source="ScheduleUntil" style="width: 100px;" />
      <Label text="=crmRTScheduleDays" style="&lbl1; width: 135px;"/>
      <InputSpinner source="ScheduleDays" minValue="-1" maxValue="999" style="width: 60px;" />
    </row>

    <row>
      <Label text="=company" style="&lbl1;"/>
      <DataSelector source="Company" editPopup="true" newRowEnabled="false" />
      <Label text="=personContact" style="&lbl1; width: 135px;"/>
      <DataSelector source="Contact" editPopup="true" newRowEnabled="false"
        renderColumns="ContactFirstName ContactLastName"
        choiceColumns="FirstName LastName CompanyName" options="Company" />
    </row>
  </Table>
  
  <br/>
  <Table style="border-spacing: 5px;">
    <row>
      <Label text="=crmTaskSubject" class="bee-required" style="&lbl1;"/>
      <InputText source="Summary" style="&inp2x;" autocomplete="true"/>
    </row>

    <row>
      <Label text="=crmTaskExecutors" style="&lbl1;"/>
      <ChildSelector childTable="RTExecutors" viewName="Users" property="Executors"
        targetRelColumn="RecurringTask" sourceRelColumn="User"
        renderColumns="FirstName LastName" editPopup="true" newRowEnabled="false" style="&inp2x;"
        label="=crmTaskExecutors" />
    </row>

    <row>
      <Label text="=crmTaskExecutorGroups" style="&lbl1;"/>
      <ChildSelector childTable="RTExecutorGroups" viewName="UserGroupSettings"
        targetRelColumn="RecurringTask" sourceRelColumn="Group"
        property="ExecutorGroups" renderColumns="Name" editPopup="true" newRowEnabled="false"
        style="&inp2y;" label="=crmTaskExecutorGroups" filter="Owner {u} or Visibility 1" />
    </row>

    <row>
      <Label text="=crmTaskObservers" style="&lbl1;"/>
      <ChildSelector childTable="RTObservers" viewName="Users" property="Observers"
        targetRelColumn="RecurringTask" sourceRelColumn="User"      
        renderColumns="FirstName LastName" editPopup="true" newRowEnabled="false" style="&inp2x;"
        label="=crmTaskObservers" />
    </row>

    <row>
      <Label text="=crmTaskObserverGroups" style="&lbl1;"/>
      <ChildSelector childTable="RTObserverGroups" viewName="UserGroupSettings"
        targetRelColumn="RecurringTask" sourceRelColumn="Group"      
        property="ObserverGroups" renderColumns="Name" editPopup="true" newRowEnabled="false"
        style="&inp2y;" label="=crmTaskObserverGroups" filter="Owner {u} or Visibility 1" />
    </row>
  </Table>
  
  <br/>
  <Table style="border-spacing:5px;" >
    <row>
      <Label text="=crmRTStartAt" style="&lbl2;"/>
      <InputTimeOfDay source="StartAt" step="&timeStep;" style="&tod;" />
      <Label text="=crmRTDurationDays" style="&lbl1;"/>
      <InputSpinner source="DurationDays" minValue="0" maxValue="31" style="&spinner;" />
      <Label text="=crmRTDurationTime" style="&lbl1;"/>
      <InputTimeOfDay source="DurationTime" step="&timeStep;" style="&tod;" />
    </row>

    <row>
      <Label text="=crmTaskReminder" style="&lbl2;"/>
      <DataSelector source="Reminder" renderColumns="ReminderName" newRowEnabled="false" 
        style="width: 100px;" />
      <Label text="=crmRTRemindBefore" style="&lbl1;"/>
      <InputSpinner source="RemindBefore" minValue="0" maxValue="31" style="&spinner;" />
      <Label text="=crmRTRemindAt" style="&lbl1;"/>
      <InputTimeOfDay source="RemindAt" step="&timeStep;" style="&tod;" />
    </row>
  </Table>
  
  <CheckBox source="CopyByMail" text="=crmMailTask" />
  
</FlowPanel>