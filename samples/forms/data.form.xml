<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Form xmlns="http://www.butent.com/bee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.butent.com/bee ../../../../schemas/form.xsd"
  name="Data" caption="Data Binding, Events, Rendering" viewName="DataTypes">
  
  <FlexTable borderWidth="1" cellPadding="5" style="borderCollapse: collapse;">
    <row>
      <cell>
        <CheckBox source="Boolean" />
      </cell>
      <cell>
        <CheckBox source="Boolean" html="Boolean" />
      </cell>
      <cell>
        <Toggle source="Boolean" />
      </cell>
    </row>

    <row>
      <cell>
        <InputInteger source="Integer" readOnly="true" />
      </cell>
      <cell>
        <InputSlider source="Integer" min="-10" max="10" />
      </cell>
      <cell>
        <IntegerLabel source="Integer" />
      </cell>
    </row>

    <row>
      <cell colSpan="2">
        <Radio source="Integer">
          <option>0</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
        </Radio>
      </cell>
      <cell horizontalAlignment="right">
        <InputSpinner source="Integer" />
      </cell>
    </row>

    <row>
      <cell>
        <Radio source="Integer" valueStartIndex="1" itemKey="Priority" />
      </cell>
      <cell>
        <ListBox source="Integer" valueNumeric="true">
          <item>aaa</item>
          <item>bbb</item>
          <item>ccc</item>
          <item>ddd</item>
          <item>eee</item>
          <item>fff</item>
          <item>ggg</item>
          <item>hhh</item>
          <item>iii</item>
          <item>jjj</item>
        </ListBox>
      </cell>
      <cell>
        <Image source="Integer">
          <renderer type="list">
            <item>add</item>
            <item>delete</item>
            <item>bookmark</item>
            <item>play</item>
            <item>red</item>
            <item>green</item>
            <item>yellow</item>
          </renderer>
        </Image>
      </cell>
    </row>

    <row>
      <cell>
        <InputCurrency source="Currency" />
      </cell>
      <cell>
        <CurrencyLabel source="Currency" />
      </cell>
      <cell>
        <CurrencyLabel source="Currency" format="#,##0.00&#160;&#164;" />
      </cell>
    </row>

    <row>
      <cell>
        <InputDate source="Date" format="date_short" minValue="2008 7 1" maxValue="2012 9 1" />
      </cell>
      <cell>
        <DateLabel source="Date" />
      </cell>
      <cell>
        <DateLabel source="Date" format="yy.MM.dd" />
      </cell>
    </row>

    <row>
      <cell>
        <InputDateTime source="DateTime" />
      </cell>
      <cell>
        <DateTimeLabel source="DateTime" />
      </cell>
      <cell>
        <DateTimeLabel source="DateTime" format="iso_8601" />
      </cell>
    </row>

    <row>
      <cell>
        <InputDecimal scale="3" source="Numeric">
          <handler event="mousewheel">
            var v = parseFloat(target.value);
            if (v > 0) {
              $wnd.Bee_updateForm(target.id, "Double", String(row.Double + v));
            }
          </handler>
        </InputDecimal>
      </cell>
      <cell>
        <DecimalLabel scale="0" source="Numeric"/>
      </cell>
      <cell>
        <DecimalLabel scale="5" source="Numeric"/>
      </cell>
    </row>

    <row>
      <cell>
        <InputDouble source="Double">
          <validation>
            <function>
              if (Math.abs(cell.newValue) &lt; 1000) {
                return null;
              } else {
                return "oh noes";
              }
            </function>
          </validation>
        </InputDouble>
      </cell>
      <cell>
        <DoubleLabel source="Double" />
      </cell>
      <cell>
        <DoubleLabel source="Double" format="#.000" />
      </cell>
    </row>

    <row>
      <cell>
        <InputLong source="Long" minValue="0" />
      </cell>
      <cell>
        <LongLabel source="Long" />
      </cell>
      <cell>
        <Progress source="Long" max="10">
          <renderer type="range">
            <item>, 0, 2</item>
            <item>0, 1e6, 5</item>
            <item>1e6, , 9</item>
          </renderer>
        </Progress>
      </cell>
    </row>

    <row>
      <cell>
        <InputText source="Char" />
      </cell>
      <cell>
        <ListBox source="Char">
          <item>abc</item>
          <item>def</item>
          <item>xyz</item>
        </ListBox>
      </cell>
      <cell>
        <Button source="Char">
          <handler event="click">
            alert(event.type + ", " + target.id + ", " + rowId + ", " + rowVersion);
          </handler>
        </Button>
      </cell>
    </row>

    <row>
      <cell>
        <InputText source="String" />
      </cell>
      <cell>
        <TextLabel>
          <render>
            <function>
              return "length " + String(row.String).length;
            </function>
          </render>
        </TextLabel>
      </cell>
      <cell>
        <Meter min="0" max="30" source="String">
          <render>
            <expression>String(cell.value).length</expression>
          </render>
        </Meter>
      </cell>
    </row>

    <row>
      <cell colSpan="3">
        <InputArea source="Memo" visibleLines="4" characterWidth="40" />
      </cell>
    </row>
    <row>
      <cell colSpan="3">
        <HtmlLabel source="Memo" style="width: 500px; overflow: auto; border: 1px solid gray;" />
      </cell>
    </row>
    
    <row>
      <cell>
        <text>id, version</text>
      </cell>
      <cell>
        <LongLabel>
          <render>
            <expression>rowId</expression>
          </render>
        </LongLabel>
      </cell>
      <cell>
        <DateTimeLabel>
          <render>
            <expression>rowVersion</expression>
          </render>
        </DateTimeLabel>
      </cell>
    </row>
    
  </FlexTable>

  <rowEditable>
    <expression>row.Date == null || row.Date &gt;= new Date(2005, 0, 1)</expression>
  </rowEditable>

</Form>